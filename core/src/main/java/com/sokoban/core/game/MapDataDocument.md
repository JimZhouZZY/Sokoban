# 有关地图类的说明

## `MapData` 的构成

`MapData` 是一个具有众多字段的类，主要由以下几个部分构成：

1. **地图路径信息** `mapFileInfo`

`mapFileInfo` 是一个 `MapInfo` 类对象，用于储存一些有关这个大地图的文件信息，一般在逻辑处理中不需要理会

2. **地图附加信息** `addtionalInfo`

`addtionalInfo` 是一个 `String` 类对象，用于说明一些地图的附加信息，例如标题等，一般在逻辑处理中不需要理会

3. **所有子地图** `allMaps`

`allMaps` 是一个 `SubMapData` 类对象，储存了当前大地图所有的子地图，如果一个关卡有多个子地图就会用上的

在处理逻辑的时候，大多数情况（普通玩法）都只是在一个子地图上进行

获取子地图数量用 `allMaps.size()`

## `SubMapData` 的构成

为什么一个子地图不直接使用 `ObjectType[][]` 这样一个二维数组表示呢？

答案是————这样管理比较混乱

例如，如果我们只有这么一个二维数组表示地图，那么我们可能要规定很多符号来表示地图上的**组合物体**：

> 1 -> `Player`
> 
> 2 -> `PlayerAtBoxTarget`
> 
> 3 -> `PlayerAtPlayerTarget`
> 
> ...

这样会非常繁琐。因此，如果我们换个思路，使用多层 `ObjectType[][]` 来管理，例如：

> 假定一共有两层子地图，**第零层**存放目标点，**第一层**存放当前地图状态
>
> 第零层只会有两种目标点：`PlayerTarget` `BoxTarget`
> 
> 第一层只会有：`Player` `Box` ...

可以看到，这样分就很清楚，不会有那么多弯弯绕绕

最终设计就得到了 `SubMapData` 这个存放子地图的类

当然，具体访问第几层，不需要 `MapData` 担心，`SubMapData` 已经封装好了访问函数，具体详见代码
